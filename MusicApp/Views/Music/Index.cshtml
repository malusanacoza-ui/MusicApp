@model IEnumerable<MusicApp.Models.Music>

@{
    ViewData["Title"] = "Music";
}

<div class="music-panel">

    <h2 class="mb-4">🎧 Browse Music</h2>

    <div class="track-list">
        @foreach (var song in Model)
        {
            <div class="track-row">

                <div class="track-left">
                    <img src="/images/wave.jpg" />
                    <div>
                        <div class="track-title">@song.Title</div>
                        <div class="track-artist">Unknown Artist</div>
                    </div>
                </div>

                <!-- ❤️ LIKE BUTTON -->
                <button class="fav-btn @(song.IsFavorite ? "liked" : "")"
                        onclick="toggleFavorite('@song.FileName', this)">
                    ❤️
                </button>

                <!-- ▶ PLAY -->
                <button class="play-btn"
                        onclick="playSong('/music/@song.FileName', '@song.Title')">
                    ▶
                </button>

                <!-- ⬇ DOWNLOAD -->
                <a asp-controller="Music"
                   asp-action="Download"
                   asp-route-fileName="@song.FileName"
                   class="track-download">
                    ⬇ Download
                </a>

            </div>
        }
    </div>

</div>
